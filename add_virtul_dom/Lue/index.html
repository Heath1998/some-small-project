<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>final</title>
    <script src="observer.js"></script>
    <script src="MVVM.js"></script>
    <script src="compiler.js"></script>
    <script src="dependence.js"></script>
    <script src="watcher.js"></script>
</head>
<body>
    <div id='app'>
        <p>TodoList</p>
        <div>
            <input type="text" v-model="dataStr">
            <button v-on:click="addOneText">add</button>
        </div>
        <div>
            <div v-for="item in items">
            <span>{{item}}</span>
            <button v-on:click="deletOneText(item)">X</button>
            </div>
        </div>
        <div>
            <p v-bind:style="[styleStr]">There are {{getItemsNum}} items</p>
        </div>
    </div>
</body>

<script>
    var vm =new MVVM({
        el:'#app',
        data:{
            dataStr:'',
            items:[],
            styleStr:'color: #f00;'
        },
        computed:{
            getItemsNum: function () {
                return this.items.length
            }
        },
        methods:{
            addOneText: function () {
                this.items.push(this.dataStr)
                this.dataStr = ''
            },
            deletOneText: function (item) {
                console.log(item)
                this.items = this.items.filter(function (x) {
                    return x != item
                })
            }
        }
    })


console.log(vm)
</script>
</html>